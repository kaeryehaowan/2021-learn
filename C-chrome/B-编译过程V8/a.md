## V8 是什么？
V8 是一个由 Google 开发的开源 JavaScript 引擎，目前用在 Chrome 浏览器和 Node.js 中，其核心功能是执行易于人类理解的 JavaScript 代码。V8是混合了 编译执行与解释执行 两种方式，称为 JIT(just in time)。所以V8也是虚拟机

## 编译流水线
1. 初始化基础环境
    - 堆空间
    - 栈空间
    - 全局执行上下文
        - 变量环境
        - 词法环境
        - this值
        - 外部环境
    - 全局作用域
    - 消息循环系统
    - 内置函数
1. 分词
    - 词法分析
    - 语法分析
2. 生成 AST 与 作用域
    - 作用域就是把在上下文里能访问到的变量整合到一起，方便查找。因为上下文里会有一个[[__outer__]]的外部环境指针，在作用域里通过这个指针访问外层作用域，所以形成了作用域链。
3. 解释器生成字节码
4. 如果是热点代码，则交给编译器生成机器码

## 事件循环系统
- 消息驱动器
- 消息队列

## 垃圾回收机制




- 源码 -> AST -> 字节码 -> 机器代码
- 字节码可以被解释器解释执行，也可以被编译器编译为二进制机器码再执行。先进行解释执行，当一段代码被多次执行，则会被标记为热点代码，热点代码会被传给优化编译器，后续被编译成优化后的二进制码，再执行这段代码时，V8就会使用二进制码。这样执行速度就大幅提升。
- 对象是什么？
 1. 函数除了拥有常用类型的属性值外，还有两个隐藏属性： name、code
    - name，为函数名，匿名函数的name为anonymous
    - code，为函数代码，以字符串的形式存储在内存中。当函数对象被调用时，V8会通过访问code属性从内存中取得函数代码再解释执行。